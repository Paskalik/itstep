export let $data = {
    "cityName": "New York",
    "regions": [
        {
            "regionName": "The Bronx",
            "allPlaces": 0,
            "filledPlaces": 0,
            "schools": [
                {
                    "schoolName": "School №1",
                    "allPlaces": 0,
                    "filledPlaces": 0,
                    "classes": [
                        {
                            "className": "First Grades",
                            "allPlaces": 123,
                            "filledPlaces": 65
                        },
                        {
                            "className": "Second Grades",
                            "allPlaces": 123,
                            "filledPlaces": 86
                        },
                        {
                            "className": "Third Grades",
                            "allPlaces": 123,
                            "filledPlaces": 41
                        },
                        {
                            "className": "Fourth Grades",
                            "allPlaces": 123,
                            "filledPlaces": 110
                        }
                        ]
                },
                {
                    "schoolName": "School №2",
                    "allPlaces": 0,
                    "filledPlaces": 0,
                    "classes": [
                        {
                            "className": "First Grades",
                            "allPlaces": 123,
                            "filledPlaces": 79
                        },
                        {
                            "className": "Second Grades",
                            "allPlaces": 123,
                            "filledPlaces": 79
                        },
                        {
                            "className": "Third Grades",
                            "allPlaces": 123,
                            "filledPlaces": 45
                        },
                        {
                            "className": "Fourth Grades",
                            "allPlaces": 123,
                            "filledPlaces": 56
                        }
                        ]
                },
                {
                    "schoolName": "School №3",
                    "allPlaces": 0,
                    "filledPlaces": 0,
                    "classes": [
                        {
                            "className": "First Grades",
                            "allPlaces": 123,
                            "filledPlaces": 42
                        },
                        {
                            "className": "Second Grades",
                            "allPlaces": 123,
                            "filledPlaces": 45
                        },
                        {
                            "className": "Third Grades",
                            "allPlaces": 123,
                            "filledPlaces": 31
                        },
                        {
                            "className": "Fourth Grades",
                            "allPlaces": 123,
                            "filledPlaces": 20
                        }
                        ]
                },
                {
                    "schoolName": "School №4",
                    "allPlaces": 0,
                    "filledPlaces": 0,
                    "classes": [
                        {
                            "className": "First Grades",
                            "allPlaces": 123,
                            "filledPlaces": 80
                        },
                        {
                            "className": "Second Grades",
                            "allPlaces": 123,
                            "filledPlaces": 57
                        },
                        {
                            "className": "Third Grades",
                            "allPlaces": 123,
                            "filledPlaces": 45
                        },
                        {
                            "className": "Fourth Grades",
                            "allPlaces": 123,
                            "filledPlaces": 56
                        }
                        ]
                },
                {
                    "schoolName": "School №5",
                    "allPlaces": 0,
                    "filledPlaces": 0,
                    "classes": [
                        {
                            "className": "First Grades",
                            "allPlaces": 123,
                            "filledPlaces": 102
                        },
                        {
                            "className": "Second Grades",
                            "allPlaces": 123,
                            "filledPlaces": 123
                        },
                        {
                            "className": "Third Grades",
                            "allPlaces": 123,
                            "filledPlaces": 119
                        },
                        {
                            "className": "Fourth Grades",
                            "allPlaces": 123,
                            "filledPlaces": 121
                        }
                        ]
                },
                {
                    "schoolName": "School №6",
                    "allPlaces": 0,
                    "filledPlaces": 0,
                    "classes": [
                        {
                            "className": "First Grades",
                            "allPlaces": 123,
                            "filledPlaces": 79
                        },
                        {
                            "className": "Second Grades",
                            "allPlaces": 123,
                            "filledPlaces": 85
                        },
                        {
                            "className": "Third Grades",
                            "allPlaces": 123,
                            "filledPlaces": 97
                        },
                        {
                            "className": "Fourth Grades",
                            "allPlaces": 123,
                            "filledPlaces": 89
                        }
                        ]
                }
                ]
        },
        {
            "regionName": "Queens",
            "allPlaces": 0,
            "filledPlaces": 0,
            "schools": [
                {
                    "schoolName": "School №1",
                    "allPlaces": 0,
                    "filledPlaces": 0,
                    "classes": [
                        {
                            "className": "First Grades",
                            "allPlaces": 123,
                            "filledPlaces": 28
                        },
                        {
                            "className": "Second Grades",
                            "allPlaces": 125,
                            "filledPlaces": 46
                        },
                        {
                            "className": "Third Grades",
                            "allPlaces": 123,
                            "filledPlaces": 61
                        },
                        {
                            "className": "Fourth Grades",
                            "allPlaces": 123,
                            "filledPlaces": 52
                        }
                        ]
                },
                {
                    "schoolName": "School №2",
                    "allPlaces": 0,
                    "filledPlaces": 0,
                    "classes": [
                        {
                            "className": "First Grades",
                            "allPlaces": 123,
                            "filledPlaces": 39
                        },
                        {
                            "className": "Second Grades",
                            "allPlaces": 123,
                            "filledPlaces": 42
                        },
                        {
                            "className": "Third Grades",
                            "allPlaces": 123,
                            "filledPlaces": 56
                        },
                        {
                            "className": "Fourth Grades",
                            "allPlaces": 123,
                            "filledPlaces": 58
                        }
                        ]
                },
                {
                    "schoolName": "School №3",
                    "allPlaces": 0,
                    "filledPlaces": 0,
                    "classes": [
                        {
                            "className": "First Grades",
                            "allPlaces": 123,
                            "filledPlaces": 26
                        },
                        {
                            "className": "Second Grades",
                            "allPlaces": 123,
                            "filledPlaces": 35
                        },
                        {
                            "className": "Third Grades",
                            "allPlaces": 123,
                            "filledPlaces": 49
                        },
                        {
                            "className": "Fourth Grades",
                            "allPlaces": 123,
                            "filledPlaces": 85
                        }
                        ]
                },
                {
                    "schoolName": "School №4",
                    "allPlaces": 0,
                    "filledPlaces": 0,
                    "classes": [
                        {
                            "className": "First Grades",
                            "allPlaces": 123,
                            "filledPlaces": 43
                        },
                        {
                            "className": "Second Grades",
                            "allPlaces": 123,
                            "filledPlaces": 57
                        },
                        {
                            "className": "Third Grades",
                            "allPlaces": 123,
                            "filledPlaces": 60
                        },
                        {
                            "className": "Fourth Grades",
                            "allPlaces": 123,
                            "filledPlaces": 72
                        }
                        ]
                },
                {
                    "schoolName": "School №5",
                    "allPlaces": 0,
                    "filledPlaces": 0,
                    "classes": [
                        {
                            "className": "First Grades",
                            "allPlaces": 123,
                            "filledPlaces": 34
                        },
                        {
                            "className": "Second Grades",
                            "allPlaces": 123,
                            "filledPlaces": 71
                        },
                        {
                            "className": "Third Grades",
                            "allPlaces": 123,
                            "filledPlaces": 52
                        },
                        {
                            "className": "Fourth Grades",
                            "allPlaces": 123,
                            "filledPlaces": 29
                        }
                        ]
                },
                {
                    "schoolName": "School №6",
                    "allPlaces": 0,
                    "filledPlaces": 0,
                    "classes": [
                        {
                            "className": "First Grades",
                            "allPlaces": 123,
                            "filledPlaces": 49
                        },
                        {
                            "className": "Second Grades",
                            "allPlaces": 123,
                            "filledPlaces": 38
                        },
                        {
                            "className": "Third Grades",
                            "allPlaces": 123,
                            "filledPlaces": 42
                        },
                        {
                            "className": "Fourth Grades",
                            "allPlaces": 123,
                            "filledPlaces": 53
                        }
                        ]
                }
                ]
        },
        {
            "regionName": "Brooklyn",
            "allPlaces": 0,
            "filledPlaces": 0,
            "schools": [
                {
                    "schoolName": "School №1",
                    "allPlaces": 0,
                    "filledPlaces": 0,
                    "classes": [
                        {
                            "className": "First Grades",
                            "allPlaces": 123,
                            "filledPlaces": 100
                        },
                        {
                            "className": "Second Grades",
                            "allPlaces": 123,
                            "filledPlaces": 109
                        },
                        {
                            "className": "Third Grades",
                            "allPlaces": 131,
                            "filledPlaces": 97
                        },
                        {
                            "className": "Fourth Grades",
                            "allPlaces": 123,
                            "filledPlaces": 63
                        }
                        ]
                },
                {
                    "schoolName": "School №2",
                    "allPlaces": 0,
                    "filledPlaces": 0,
                    "classes": [
                        {
                            "className": "First Grades",
                            "allPlaces": 123,
                            "filledPlaces": 99
                        },
                        {
                            "className": "Second Grades",
                            "allPlaces": 123,
                            "filledPlaces": 109
                        },
                        {
                            "className": "Third Grades",
                            "allPlaces": 123,
                            "filledPlaces": 84
                        },
                        {
                            "className": "Fourth Grades",
                            "allPlaces": 123,
                            "filledPlaces": 123
                        }
                        ]
                },
                {
                    "schoolName": "School №3",
                    "allPlaces": 0,
                    "filledPlaces": 0,
                    "classes": [
                        {
                            "className": "First Grades",
                            "allPlaces": 123,
                            "filledPlaces": 122
                        },
                        {
                            "className": "Second Grades",
                            "allPlaces": 123,
                            "filledPlaces": 114
                        },
                        {
                            "className": "Third Grades",
                            "allPlaces": 123,
                            "filledPlaces": 103
                        },
                        {
                            "className": "Fourth Grades",
                            "allPlaces": 123,
                            "filledPlaces": 91
                        }
                        ]
                },
                {
                    "schoolName": "School №4",
                    "allPlaces": 0,
                    "filledPlaces": 0,
                    "classes": [
                        {
                            "className": "First Grades",
                            "allPlaces": 123,
                            "filledPlaces": 82
                        },
                        {
                            "className": "Second Grades",
                            "allPlaces": 123,
                            "filledPlaces": 79
                        },
                        {
                            "className": "Third Grades",
                            "allPlaces": 123,
                            "filledPlaces": 121
                        },
                        {
                            "className": "Fourth Grades",
                            "allPlaces": 123,
                            "filledPlaces": 120
                        }
                        ]
                },
                {
                    "schoolName": "School №5",
                    "allPlaces": 0,
                    "filledPlaces": 0,
                    "classes": [
                        {
                            "className": "First Grades",
                            "allPlaces": 123,
                            "filledPlaces": 72
                        },
                        {
                            "className": "Second Grades",
                            "allPlaces": 123,
                            "filledPlaces": 94
                        },
                        {
                            "className": "Third Grades",
                            "allPlaces": 123,
                            "filledPlaces": 121
                        },
                        {
                            "className": "Fourth Grades",
                            "allPlaces": 123,
                            "filledPlaces": 87
                        }
                        ]
                },
                {
                    "schoolName": "School №6",
                    "allPlaces": 0,
                    "filledPlaces": 0,
                    "classes": [
                        {
                            "className": "First Grades",
                            "allPlaces": 123,
                            "filledPlaces": 95
                        },
                        {
                            "className": "Second Grades",
                            "allPlaces": 123,
                            "filledPlaces": 107
                        },
                        {
                            "className": "Third Grades",
                            "allPlaces": 123,
                            "filledPlaces": 105
                        },
                        {
                            "className": "Fourth Grades",
                            "allPlaces": 123,
                            "filledPlaces": 120
                        }
                        ]
                }
                ]
        },
        {
            "regionName": "Staten Island",
            "allPlaces": 0,
            "filledPlaces": 0,
            "schools": [
                {
                    "schoolName": "School №1",
                    "allPlaces": 0,
                    "filledPlaces": 0,
                    "classes": [
                        {
                            "className": "First Grades",
                            "allPlaces": 123,
                            "filledPlaces": 122
                        },
                        {
                            "className": "Second Grades",
                            "allPlaces": 123,
                            "filledPlaces": 94
                        },
                        {
                            "className": "Third Grades",
                            "allPlaces": 128,
                            "filledPlaces": 107
                        },
                        {
                            "className": "Fourth Grades",
                            "allPlaces": 123,
                            "filledPlaces": 120
                        }
                        ]
                },
                {
                    "schoolName": "School №2",
                    "allPlaces": 0,
                    "filledPlaces": 0,
                    "classes": [
                        {
                            "className": "First Grades",
                            "allPlaces": 123,
                            "filledPlaces": 120
                        },
                        {
                            "className": "Second Grades",
                            "allPlaces": 123,
                            "filledPlaces": 84
                        },
                        {
                            "className": "Third Grades",
                            "allPlaces": 123,
                            "filledPlaces": 93
                        },
                        {
                            "className": "Fourth Grades",
                            "allPlaces": 123,
                            "filledPlaces": 78
                        }
                        ]
                },
                {
                    "schoolName": "School №3",
                    "allPlaces": 0,
                    "filledPlaces": 0,
                    "classes": [
                        {
                            "className": "First Grades",
                            "allPlaces": 123,
                            "filledPlaces": 121
                        },
                        {
                            "className": "Second Grades",
                            "allPlaces": 123,
                            "filledPlaces": 97
                        },
                        {
                            "className": "Third Grades",
                            "allPlaces": 123,
                            "filledPlaces": 104
                        },
                        {
                            "className": "Fourth Grades",
                            "allPlaces": 123,
                            "filledPlaces": 102
                        }
                        ]
                },
                {
                    "schoolName": "School №4",
                    "allPlaces": 0,
                    "filledPlaces": 0,
                    "classes": [
                        {
                            "className": "First Grades",
                            "allPlaces": 123,
                            "filledPlaces": 98
                        },
                        {
                            "className": "Second Grades",
                            "allPlaces": 123,
                            "filledPlaces": 123
                        },
                        {
                            "className": "Third Grades",
                            "allPlaces": 123,
                            "filledPlaces": 108
                        },
                        {
                            "className": "Fourth Grades",
                            "allPlaces": 123,
                            "filledPlaces": 120
                        }
                        ]
                },
                {
                    "schoolName": "School №5",
                    "allPlaces": 0,
                    "filledPlaces": 0,
                    "classes": [
                        {
                            "className": "First Grades",
                            "allPlaces": 123,
                            "filledPlaces": 114
                        },
                        {
                            "className": "Second Grades",
                            "allPlaces": 123,
                            "filledPlaces": 120
                            },
                        {
                            "className": "Third Grades",
                            "allPlaces": 123,
                            "filledPlaces": 123
                        },
                        {
                            "className": "Fourth Grades",
                            "allPlaces": 123,
                            "filledPlaces": 112
                        }
                        ]
                },
                {
                    "schoolName": "School №6",
                    "allPlaces": 0,
                    "filledPlaces": 0,
                    "classes": [
                        {
                            "className": "First Grades",
                            "allPlaces": 123,
                            "filledPlaces": 115
                        },
                        {
                            "className": "Second Grades",
                            "allPlaces": 123,
                            "filledPlaces": 98
                        },
                        {
                            "className": "Third Grades",
                            "allPlaces": 123,
                            "filledPlaces": 100
                        },
                        {
                            "className": "Fourth Grades",
                            "allPlaces": 123,
                            "filledPlaces": 78
                        }
                        ]
                }
                ]
        },
        {
            "regionName": "Manhattan",
            "allPlaces": 9000,
            "filledPlaces": 4500,
            "schools": [
                {
                    "schoolName": "School №1",
                    "allPlaces": 0,
                    "filledPlaces": 0,
                    "classes": [
                        {
                            "className": "First Grades",
                            "allPlaces": 123,
                            "filledPlaces": 116
                        },
                        {
                            "className": "Second Grades",
                            "allPlaces": 123,
                            "filledPlaces": 104
                        },
                        {
                            "className": "Third Grades",
                            "allPlaces": 123,
                            "filledPlaces": 68
                        },
                        {
                            "className": "Fourth Grades",
                            "allPlaces": 123,
                            "filledPlaces": 110
                        }
                        ]
                },
                {
                    "schoolName": "School №2",
                    "allPlaces": 0,
                    "filledPlaces": 0,
                    "classes": [
                        {
                            "className": "First Grades",
                            "allPlaces": 125,
                            "filledPlaces": 119
                        },
                        {
                            "className": "Second Grades",
                            "allPlaces": 123,
                            "filledPlaces": 120
                        },
                        {
                            "className": "Third Grades",
                            "allPlaces": 123,
                            "filledPlaces": 123
                        },
                        {
                            "className": "Fourth Grades",
                            "allPlaces": 94,
                            "filledPlaces": 75
                        }
                        ]
                },
                {
                    "schoolName": "School №3",
                    "allPlaces": 0,
                    "filledPlaces": 0,
                    "classes": [
                        {
                            "className": "First Grades",
                            "allPlaces": 123,
                            "filledPlaces": 105
                        },
                        {
                            "className": "Second Grades",
                            "allPlaces": 142,
                            "filledPlaces": 85
                        },
                        {
                            "className": "Third Grades",
                            "allPlaces": 120,
                            "filledPlaces": 95
                        },
                        {
                            "className": "Fourth Grades",
                            "allPlaces": 125,
                            "filledPlaces": 120
                        }
                        ]
                },
                {
                    "schoolName": "School №4",
                    "allPlaces": 0,
                    "filledPlaces": 0,
                    "classes": [
                        {
                            "className": "First Grades",
                            "allPlaces": 154,
                            "filledPlaces": 117
                        },
                        {
                            "className": "Second Grades",
                            "allPlaces": 100,
                            "filledPlaces": 82
                        },
                        {
                            "className": "Third Grades",
                            "allPlaces": 123,
                            "filledPlaces": 123
                        },
                        {
                            "className": "Fourth Grades",
                            "allPlaces": 115,
                            "filledPlaces": 59
                        }
                        ]
                },
                {
                    "schoolName": "School №5",
                    "allPlaces": 0,
                    "filledPlaces": 0,
                    "classes": [
                        {
                            "className": "First Grades",
                            "allPlaces": 100,
                            "filledPlaces": 88
                        },
                        {
                            "className": "Second Grades",
                            "allPlaces": 120,
                            "filledPlaces": 120
                        },
                        {
                            "className": "Third Grades",
                            "allPlaces": 115,
                            "filledPlaces": 87
                        },
                        {
                            "className": "Fourth Grades",
                            "allPlaces": 142,
                            "filledPlaces": 105
                        }
                        ]
                },
                {
                    "schoolName": "School №6",
                    "allPlaces": 0,
                    "filledPlaces": 0,
                    "classes": [
                        {
                            "className": "First Grades",
                            "allPlaces": 120,
                            "filledPlaces": 95
                        },
                        {
                            "className": "Second Grades",
                            "allPlaces": 128,
                            "filledPlaces": 120
                        },
                        {
                            "className": "Third Grades",
                            "allPlaces": 165,
                            "filledPlaces": 80
                        },
                        {
                            "className": "Fourth Grades",
                            "allPlaces": 170,
                            "filledPlaces": 90
                        }
                        ]
                }
                ]
        }
        ]
}

function $countPlaces() {
    let $region = $data.regions
    $region.forEach((el) => {
        let $countAllSchools = 0
        let $countFilledSchools = 0
        let $schools = el.schools
        $schools.forEach((el) => {
            let $countAllClasses = 0
            let $countFilledClasses = 0
            let $classes = el.classes
            $classes.forEach((el) => {
                $countAllClasses += el.allPlaces
                $countFilledClasses += el.filledPlaces
            })
            el.allPlaces = $countAllClasses
            el.filledPlaces = $countFilledClasses
            $countAllSchools += el.allPlaces
            $countFilledSchools += el.filledPlaces
        })
        el.allPlaces = $countAllSchools
        el.filledPlaces = $countFilledSchools
    })
}

$countPlaces()

export function $countPer(all, filled) {
    let $per = (filled * 100) / all
    let $color
    if (($per > 0) && ($per <= 20)) {
        $color = 'darkseagreen'
    }
    else if (($per > 20) && ($per <= 40)) {
        $color = 'darkcyan'
    }
    else if (($per > 40) && ($per <= 60)) {
        $color = 'darksalmon'
    }
    else if (($per > 60) && ($per <= 80)) {
        $color = 'darkorange'
    }
    else if (($per > 80) && ($per <= 100)) {
        $color = 'darkred'
    }
    return {$per, $color}
}